// *** Chat Box ***

// This allows for the file to be reloaded
ChatBox=class{

  // Data

  static bold; // The bold font (sans or serif)
  static id; // The id of the chatbox element
  static italic; // The bold italic font (sans or serif)
  static version='1.63';

  // Constructor

  constructor(id){
    ChatBox.id=id;
    ChatBox.bold=ChatBox.sansBold;
    ChatBox.italic=ChatBox.sansItalic;
    console.log('Chat Box '+ChatBox.version);
    const elt=document.getElementById(ChatBox.id);
    if(elt===null){
      console.log('No chat box "'+ChatBox.id+'" found');
      return;}
    elt.setAttribute('onkeyup','ChatBox.transform()');
    ChatBox.transform();}

  // Functionality

  static reverse(string){
    let rev='';
    // Probably O(n^2) but can be done in O(n)
    for(const c of string)rev=c+rev;
    return rev;}

  static substituteAll(oldText,substitutions){
    let newText=oldText;
    substitutions.forEach((sub)=>{
      const oldAlpha=sub[0];
      const newAlpha=sub[1];
      oldAlpha.forEach((c,i)=>{
        const re=new RegExp(c,'g');
        newText=newText.replace(re,newAlpha[i]);})});
    return newText;}

  static substituteRegex(
    text,before,after,substitutions,reverse=false){
    const re=new RegExp('^(.*)'+before+'(.+)'+after+'(.*)$');
    const match=text.match(re);
    if(match===null)return text;
    if(match.length!=4)return text;
    match[2]=ChatBox.substituteAll(match[2],substitutions);
    if(reverse)match[2]=ChatBox.reverse(match[2]);
    return match[1]+match[2]+match[3];}

  static transform(){
    const elt=document.getElementById(ChatBox.id);
    if(elt===null)return;
    let text=elt.value;
    if(text.length>0&&text[0]==' ')return true;
    // Bold *...*
    text=ChatBox.substituteRegex(
      text,'\*','\*',
      [[ChatBox.ascii,ChatBox.bold],
       [ChatBox.sans,ChatBox.sansBold],
       [ChatBox.sansItalic,ChatBox.sansBoldItalic],
       [ChatBox.serifItalic,ChatBox.serifBoldItalic],
       [ChatBox.cursive,ChatBox.cursiveBold],
       [ChatBox.fraktur,ChatBox.frakturBold],
       // These two lines must be in this order
       // Double bold is color (easter egg)
       [ChatBox.squareBlack,ChatBox.squareColor],
       [ChatBox.squareWhite,ChatBox.squareBlack]]);
    // Circle ((...))
    text=ChatBox.substituteRegex(
      text,'\(\(','\)\)',
      [[ChatBox.ascii,ChatBox.circleWhite],
       [ChatBox.sans,ChatBox.circleWhite]]);
    // Courier =...=
    text=ChatBox.substituteRegex(
      text,'=','=',
      [[ChatBox.ascii,ChatBox.courier],
       [ChatBox.sans,ChatBox.courier]]);
    // Cursive ~...~
    text=ChatBox.substituteRegex(
      text,'~','~',
      [[ChatBox.ascii,ChatBox.cursive],
       [ChatBox.sans,ChatBox.cursive],
       [ChatBox.sansBold,ChatBox.cursiveBold],
       [ChatBox.serifBold,ChatBox.cursiveBold]]);
    // Fraktur #...#
    text=ChatBox.substituteRegex(
      text,'#','#',
      [[ChatBox.ascii,ChatBox.fraktur],
       [ChatBox.sans,ChatBox.fraktur],
       [ChatBox.sansBold,ChatBox.frakturBold],
       [ChatBox.serifBold,ChatBox.frakturBold]]);
    // Italic /.../
    text=ChatBox.substituteRegex(
      text,'\/','\/',
      [[ChatBox.ascii,ChatBox.italic],
       [ChatBox.sans,ChatBox.sansItalic],
       [ChatBox.sansBold,ChatBox.sansBoldItalic],
       [ChatBox.serifBold,ChatBox.serifBoldItalic]]);
    // Outline |...|
    text=ChatBox.substituteRegex(
      text,'\|','\|',
      [[ChatBox.ascii,ChatBox.outline],
       [ChatBox.sans,ChatBox.outline]]);
    // Rotated ^...^
    // Abuse of intermediate font
    text=ChatBox.substituteRegex(
      text,'\^','\^',
      [[ChatBox.ascii,ChatBox.serifBold],
       [ChatBox.sans,ChatBox.serifBold],
       [ChatBox.serifBold,ChatBox.rotated]],
      true);
    // Square [[...]]
    text=ChatBox.substituteRegex(
      text,'\[\[','\]\]',
      [[ChatBox.ascii,ChatBox.squareWhite],
       [ChatBox.sans,ChatBox.squareWhite],
       [ChatBox.sansBold,ChatBox.squareBlack],
       [ChatBox.serifBold,ChatBox.squareBlack]]);
    // Underline _..._
    text=ChatBox.substituteRegex(
      text,'_','_',
      // This line must come first
      // Double underline is unreliably rendered
      [[ChatBox.underline,ChatBox.underlineTwice],
       [ChatBox.ascii,ChatBox.underline],
       [ChatBox.sans,ChatBox.underline]]);
    // Updating might cause the browser some work
    if(elt.value==text)return true;
    elt.value=text;
    return true;}

  // Fonts

  static ascii=[
    '0','1','2','3','4','5','6','7','8','9',
    'a','b','c','d','e','f','g','h','i','j','k','l','m',
    'n','o','p','q','r','s','t','u','v','w','x','y','z',
    'A','B','C','D','E','F','G','H','I','J','K','L','M',
    'N','O','P','Q','R','S','T','U','V','W','X','Y','Z'];
  static circleWhite=[
    'â“ª','â‘ ','â‘¡','â‘¢','â‘£','â‘¤','â‘¥','â‘¦','â‘§','â‘¨',
    'â“','â“‘','â“’','â““','â“”','â“•','â“–','â“—','â“˜','â“™','â“š','â“›','â“œ',
    'â“','â“','â“Ÿ','â“ ','â“¡','â“¢','â“£','â“¤','â“¥','â“¦','â“§','â“¨','â“©',
    'â’¶','â’·','â’¸','â’¹','â’º','â’»','â’¼','â’½','â’¾','â’¿','â“€','â“','â“‚',
    'â“ƒ','â“„','â“…','â“†','â“‡','â“ˆ','â“‰','â“Š','â“‹','â“Œ','â“','â“','â“'];
  static courier=[
    'ğŸ¶','ğŸ·','ğŸ¸','ğŸ¹','ğŸº','ğŸ»','ğŸ¼','ğŸ½','ğŸ¾','ğŸ¿',
    'ğšŠ','ğš‹','ğšŒ','ğš','ğš','ğš','ğš','ğš‘','ğš’','ğš“','ğš”','ğš•','ğš–',
    'ğš—','ğš˜','ğš™','ğšš','ğš›','ğšœ','ğš','ğš','ğšŸ','ğš ','ğš¡','ğš¢','ğš£',
    'ğ™°','ğ™±','ğ™²','ğ™³','ğ™´','ğ™µ','ğ™¶','ğ™·','ğ™¸','ğ™¹','ğ™º','ğ™»','ğ™¼',
    'ğ™½','ğ™¾','ğ™¿','ğš€','ğš','ğš‚','ğšƒ','ğš„','ğš…','ğš†','ğš‡','ğšˆ','ğš‰'];
  static cursive=[
    '0','1','2','3','4','5','6','7','8','9',
    'ğ’¶','ğ’·','ğ’¸','ğ’¹','ğ‘’','ğ’»','ğ‘”','ğ’½','ğ’¾','ğ’¿','ğ“€','ğ“','ğ“‚',
    'ğ“ƒ','ğ‘œ','ğ“…','ğ“†','ğ“‡','ğ“ˆ','ğ“‰','ğ“Š','ğ“‹','ğ“Œ','ğ“','ğ“','ğ“',
    'ğ’œ','â„¬','ğ’','ğ’Ÿ','â„°','â„±','ğ’¢','â„‹','â„','ğ’¥','ğ’¦','â„’','â„³',
    'ğ’©','ğ’ª','ğ’«','ğ’¬','â„›','ğ’®','ğ’¯','ğ’°','ğ’±','ğ’²','ğ’³','ğ’´','ğ’µ'];
  static cursiveBold=[
    '0','1','2','3','4','5','6','7','8','9',
    'ğ“ª','ğ“«','ğ“¬','ğ“­','ğ“®','ğ“¯','ğ“°','ğ“±','ğ“²','ğ“³','ğ“´','ğ“µ','ğ“¶',
    'ğ“·','ğ“¸','ğ“¹','ğ“º','ğ“»','ğ“¼','ğ“½','ğ“¾','ğ“¿','ğ”€','ğ”','ğ”‚','ğ”ƒ',
    'ğ“','ğ“‘','ğ“’','ğ““','ğ“”','ğ“•','ğ“–','ğ“—','ğ“˜','ğ“™','ğ“š','ğ“›','ğ“œ',
    'ğ“','ğ“','ğ“Ÿ','ğ“ ','ğ“¡','ğ“¢','ğ“£','ğ“¤','ğ“¥','ğ“¦','ğ“§','ğ“¨','ğ“©'];
  static fraktur=[
    '0','1','2','3','4','5','6','7','8','9',
    'ğ”','ğ”Ÿ','ğ” ','ğ”¡','ğ”¢','ğ”£','ğ”¤','ğ”¥','ğ”¦','ğ”§','ğ”¨','ğ”©','ğ”ª',
    'ğ”«','ğ”¬','ğ”­','ğ”®','ğ”¯','ğ”°','ğ”±','ğ”²','ğ”³','ğ”´','ğ”µ','ğ”¶','ğ”·',
    'ğ”„','ğ”…','â„­','ğ”‡','ğ”ˆ','ğ”‰','ğ”Š','â„Œ','â„‘','ğ”','ğ”','ğ”','ğ”',
    'ğ”‘','ğ”’','ğ”“','ğ””','â„œ','ğ”–','ğ”—','ğ”˜','ğ”™','ğ”š','ğ”›','ğ”œ','â„¨'];
  static frakturBold=[
    '0','1','2','3','4','5','6','7','8','9',
    'ğ–†','ğ–‡','ğ–ˆ','ğ–‰','ğ–Š','ğ–‹','ğ–Œ','ğ–','ğ–','ğ–','ğ–','ğ–‘','ğ–’',
    'ğ–“','ğ–”','ğ–•','ğ––','ğ–—','ğ–˜','ğ–™','ğ–š','ğ–›','ğ–œ','ğ–','ğ–','ğ–Ÿ',
    'ğ•¬','ğ•­','ğ•®','ğ•¯','ğ•°','ğ•±','ğ•²','ğ•³','ğ•´','ğ•µ','ğ•¶','ğ•·','ğ•¸',
    'ğ•¹','ğ•º','ğ•»','ğ•¼','ğ•½','ğ•¾','ğ•¿','ğ–€','ğ–','ğ–‚','ğ–ƒ','ğ–„','ğ–…'];
  static outline=[
    'ğŸ˜','ğŸ™','ğŸš','ğŸ›','ğŸœ','ğŸ','ğŸ','ğŸŸ','ğŸ ','ğŸ¡',
    'ğ•’','ğ•“','ğ•”','ğ••','ğ•–','ğ•—','ğ•˜','ğ•™','ğ•š','ğ•›','ğ•œ','ğ•','ğ•',
    'ğ•Ÿ','ğ• ','ğ•¡','ğ•¢','ğ•£','ğ•¤','ğ•¥','ğ•¦','ğ•§','ğ•¨','ğ•©','ğ•ª','ğ•«',
    'ğ”¸','ğ”¹','â„‚','ğ”»','ğ”¼','ğ”½','ğ”¾','â„','ğ•€','ğ•','ğ•‚','ğ•ƒ','ğ•„',
    'â„•','ğ•†','â„™','â„š','â„','ğ•Š','ğ•‹','ğ•Œ','ğ•','ğ•','ğ•','ğ•','â„¤'];
  static rotated=[
    'ğŸ¢','ğŸ£','ğŸ¤','ğŸ¥','ğŸ¦','ğŸ§','ğŸ¨','ğŸ©','ğŸª','ğŸ«',
    'É','q','É”','p','Ç','ÉŸ','É“','É¥','!','É¾','Ê','l','É¯',
    'u','o','d','b','É¹','s','Ê‡','n','ÊŒ','Ê','x','Ê','z',
    'âˆ€','á™ ','Æ†','á—¡','Æ','â„²','â…','H','I','É¾','Ê','â…‚','W',
    'N','O','Ô€','ÎŒ','á´š','S','âŠ¥','â‹‚','Î›','M','X','â…„','Z'];
  static sans=[
    'ğŸ¢','ğŸ£','ğŸ¤','ğŸ¥','ğŸ¦','ğŸ§','ğŸ¨','ğŸ©','ğŸª','ğŸ«',
    'ğ–º','ğ–»','ğ–¼','ğ–½','ğ–¾','ğ–¿','ğ—€','ğ—','ğ—‚','ğ—ƒ','ğ—„','ğ—…','ğ—†',
    'ğ—‡','ğ—ˆ','ğ—‰','ğ—Š','ğ—‹','ğ—Œ','ğ—','ğ—','ğ—','ğ—','ğ—‘','ğ—’','ğ—“',
    'ğ– ','ğ–¡','ğ–¢','ğ–£','ğ–¤','ğ–¥','ğ–¦','ğ–§','ğ–¨','ğ–©','ğ–ª','ğ–«','ğ–¬',
    'ğ–­','ğ–®','ğ–¯','ğ–°','ğ–±','ğ–²','ğ–³','ğ–´','ğ–µ','ğ–¶','ğ–·','ğ–¸','ğ–¹'];
  static sansBold=[
    'ğŸ¬','ğŸ­','ğŸ®','ğŸ¯','ğŸ°','ğŸ±','ğŸ²','ğŸ³','ğŸ´','ğŸµ',
    'ğ—®','ğ—¯','ğ—°','ğ—±','ğ—²','ğ—³','ğ—´','ğ—µ','ğ—¶','ğ—·','ğ—¸','ğ—¹','ğ—º',
    'ğ—»','ğ—¼','ğ—½','ğ—¾','ğ—¿','ğ˜€','ğ˜','ğ˜‚','ğ˜ƒ','ğ˜„','ğ˜…','ğ˜†','ğ˜‡',
    'ğ—”','ğ—•','ğ—–','ğ——','ğ—˜','ğ—™','ğ—š','ğ—›','ğ—œ','ğ—','ğ—','ğ—Ÿ','ğ— ',
    'ğ—¡','ğ—¢','ğ—£','ğ—¤','ğ—¥','ğ—¦','ğ—§','ğ—¨','ğ—©','ğ—ª','ğ—«','ğ—¬','ğ—­'];
  static sansItalic=[
    'ğŸ¢','ğŸ£','ğŸ¤','ğŸ¥','ğŸ¦','ğŸ§','ğŸ¨','ğŸ©','ğŸª','ğŸ«',
    'ğ˜¢','ğ˜£','ğ˜¤','ğ˜¥','ğ˜¦','ğ˜§','ğ˜¨','ğ˜©','ğ˜ª','ğ˜«','ğ˜¬','ğ˜­','ğ˜®',
    'ğ˜¯','ğ˜°','ğ˜±','ğ˜²','ğ˜³','ğ˜´','ğ˜µ','ğ˜¶','ğ˜·','ğ˜¸','ğ˜¹','ğ˜º','ğ˜»',
    'ğ˜ˆ','ğ˜‰','ğ˜Š','ğ˜‹','ğ˜Œ','ğ˜','ğ˜','ğ˜','ğ˜','ğ˜‘','ğ˜’','ğ˜“','ğ˜”',
    'ğ˜•','ğ˜–','ğ˜—','ğ˜˜','ğ˜™','ğ˜š','ğ˜›','ğ˜œ','ğ˜','ğ˜','ğ˜Ÿ','ğ˜ ','ğ˜¡'];
  static sansBoldItalic=[
    'ğŸ¬','ğŸ­','ğŸ®','ğŸ¯','ğŸ°','ğŸ±','ğŸ²','ğŸ³','ğŸ´','ğŸµ',
    'ğ™–','ğ™—','ğ™˜','ğ™™','ğ™š','ğ™›','ğ™œ','ğ™','ğ™','ğ™Ÿ','ğ™ ','ğ™¡','ğ™¢',
    'ğ™£','ğ™¤','ğ™¥','ğ™¦','ğ™§','ğ™¨','ğ™©','ğ™ª','ğ™«','ğ™¬','ğ™­','ğ™®','ğ™¯',
    'ğ˜¼','ğ˜½','ğ˜¾','ğ˜¿','ğ™€','ğ™','ğ™‚','ğ™ƒ','ğ™„','ğ™…','ğ™†','ğ™‡','ğ™ˆ',
    'ğ™‰','ğ™Š','ğ™‹','ğ™Œ','ğ™','ğ™','ğ™','ğ™','ğ™‘','ğ™’','ğ™“','ğ™”','ğ™•'];
  static serifBold=[
    'ğŸ','ğŸ','ğŸ','ğŸ‘','ğŸ’','ğŸ“','ğŸ”','ğŸ•','ğŸ–','ğŸ—',
    'ğš','ğ›','ğœ','ğ','ğ','ğŸ','ğ ','ğ¡','ğ¢','ğ£','ğ¤','ğ¥','ğ¦',
    'ğ§','ğ¨','ğ©','ğª','ğ«','ğ¬','ğ­','ğ®','ğ¯','ğ°','ğ±','ğ²','ğ³',
    'ğ€','ğ','ğ‚','ğƒ','ğ„','ğ…','ğ†','ğ‡','ğˆ','ğ‰','ğŠ','ğ‹','ğŒ',
    'ğ','ğ','ğ','ğ','ğ‘','ğ’','ğ“','ğ”','ğ•','ğ–','ğ—','ğ˜','ğ™'];
  static serifItalic=[
    '0','1','2','3','4','5','6','7','8','9',
    'ğ‘','ğ‘','ğ‘','ğ‘‘','ğ‘’','ğ‘“','ğ‘”','â„','ğ‘–','ğ‘—','ğ‘˜','ğ‘™','ğ‘š',
    'ğ‘›','ğ‘œ','ğ‘','ğ‘','ğ‘Ÿ','ğ‘ ','ğ‘¡','ğ‘¢','ğ‘£','ğ‘¤','ğ‘¥','ğ‘¦','ğ‘§',
    'ğ‘¨','ğ‘©','ğ‘ª','ğ‘«','ğ‘¬','ğ‘­','ğ‘®','ğ‘¯','ğ‘°','ğ‘±','ğ‘²','ğ‘³','ğ‘´',
    'ğ‘µ','ğ‘¶','ğ‘·','ğ‘¸','ğ‘¹','ğ‘º','ğ‘»','ğ‘¼','ğ‘½','ğ‘¾','ğ‘¿','ğ’€','ğ’'];
  static serifBoldItalic=[
    'ğŸ','ğŸ','ğŸ','ğŸ‘','ğŸ’','ğŸ“','ğŸ”','ğŸ•','ğŸ–','ğŸ—',
    'ğ’‚','ğ’ƒ','ğ’„','ğ’…','ğ’†','ğ’‡','ğ’ˆ','ğ’‰','ğ’Š','ğ’‹','ğ’Œ','ğ’','ğ’',
    'ğ’','ğ’','ğ’‘','ğ’’','ğ’“','ğ’”','ğ’•','ğ’–','ğ’—','ğ’˜','ğ’™','ğ’š','ğ’›',
    'ğ‘¨','ğ‘©','ğ‘ª','ğ‘«','ğ‘¬','ğ‘­','ğ‘®','ğ‘¯','ğ‘°','ğ‘±','ğ‘²','ğ‘³','ğ‘´',
    'ğ‘µ','ğ‘¶','ğ‘·','ğ‘¸','ğ‘¹','ğ‘º','ğ‘»','ğ‘¼','ğ‘½','ğ‘¾','ğ‘¿','ğ’€','ğ’'];
  static squareBlack=[
    '0','1','2','3','4','5','6','7','8','9',
    'ğŸ…°','ğŸ…±','ğŸ…²','ğŸ…³','ğŸ…´','ğŸ…µ','ğŸ…¶','ğŸ…·','ğŸ…¸','ğŸ…¹','ğŸ…º','ğŸ…»','ğŸ…¼',
    'ğŸ…½','ğŸ…¾','ğŸ…¿','ğŸ†€','ğŸ†','ğŸ†‚','ğŸ†ƒ','ğŸ†„','ğŸ†…','ğŸ††','ğŸ†‡','ğŸ†ˆ','ğŸ†‰',
    'ğŸ…°','ğŸ…±','ğŸ…²','ğŸ…³','ğŸ…´','ğŸ…µ','ğŸ…¶','ğŸ…·','ğŸ…¸','ğŸ…¹','ğŸ…º','ğŸ…»','ğŸ…¼',
    'ğŸ…½','ğŸ…¾','ğŸ…¿','ğŸ†€','ğŸ†','ğŸ†‚','ğŸ†ƒ','ğŸ†„','ğŸ†…','ğŸ††','ğŸ†‡','ğŸ†ˆ','ğŸ†‰'];
  static squareWhite=[
    '0','1','2','3','4','5','6','7','8','9',
    'ğŸ„°','ğŸ„±','ğŸ„²','ğŸ„³','ğŸ„´','ğŸ„µ','ğŸ„¶','ğŸ„·','ğŸ„¸','ğŸ„¹','ğŸ„º','ğŸ„»','ğŸ„¼',
    'ğŸ„½','ğŸ„¾','ğŸ„¿','ğŸ…€','ğŸ…','ğŸ…‚','ğŸ…ƒ','ğŸ…„','ğŸ……','ğŸ…†','ğŸ…‡','ğŸ…ˆ','ğŸ…‰',
    'ğŸ„°','ğŸ„±','ğŸ„²','ğŸ„³','ğŸ„´','ğŸ„µ','ğŸ„¶','ğŸ„·','ğŸ„¸','ğŸ„¹','ğŸ„º','ğŸ„»','ğŸ„¼',
    'ğŸ„½','ğŸ„¾','ğŸ„¿','ğŸ…€','ğŸ…','ğŸ…‚','ğŸ…ƒ','ğŸ…„','ğŸ……','ğŸ…†','ğŸ…‡','ğŸ…ˆ','ğŸ…‰'];
  static squareColor=[
    '0\uFE0F\u20E3',
    '1\uFE0F\u20E3','2\uFE0F\u20E3','3\uFE0F\u20E3',
    '4\uFE0F\u20E3','5\uFE0F\u20E3','6\uFE0F\u20E3',
    '7\uFE0F\u20E3','8\uFE0F\u20E3','9\uFE0F\u20E3',
    'ğŸ…°\ufe0f','ğŸ…±\ufe0f','ğŸ…²','ğŸ…³','ğŸ…´','ğŸ…µ','ğŸ…¶','ğŸ…·','ğŸ…¸','ğŸ…¹',
    'ğŸ…º','ğŸ…»','ğŸ…¼','ğŸ…½','ğŸ…¾\ufe0f','ğŸ…¿\ufe0f','ğŸ†€','ğŸ†','ğŸ†‚','ğŸ†ƒ',
    'ğŸ†„','ğŸ†…','ğŸ††','\u274E','ğŸ†ˆ','ğŸ†‰',
    'ğŸ…°\ufe0f','ğŸ…±\ufe0f','ğŸ…²','ğŸ…³','ğŸ…´','ğŸ…µ','ğŸ…¶','ğŸ…·','ğŸ…¸','ğŸ…¹',
    'ğŸ…º','ğŸ…»','ğŸ…¼','ğŸ…½','ğŸ…¾\ufe0f','ğŸ…¿\ufe0f','ğŸ†€','ğŸ†','ğŸ†‚','ğŸ†ƒ',
    'ğŸ†„','ğŸ†…','ğŸ††','\u274E','ğŸ†ˆ','ğŸ†‰'];
  static underline=[
    '0','1','2','3','4','5','6','7','8','9',
    'aÌ²','bÌ²','cÌ²','dÌ²','eÌ²','fÌ²','gÌ²','hÌ²','iÌ²','jÌ²','kÌ²','lÌ²','mÌ²',
    'nÌ²','oÌ²','pÌ²','qÌ²','rÌ²','sÌ²','tÌ²','uÌ²','vÌ²','wÌ²','xÌ²','yÌ²','zÌ²',
    'AÌ²','BÌ²','CÌ²','DÌ²','EÌ²','FÌ²','GÌ²','HÌ²','IÌ²','JÌ²','KÌ²','LÌ²','MÌ²',
    'NÌ²','OÌ²','PÌ²','QÌ²','RÌ²','SÌ²','TÌ²','UÌ²','VÌ²','WÌ²','XÌ²','YÌ²','ZÌ²'];
  // This doesn't work as expected in all fonts
  static underlineTwice=[
    '0','1','2','3','4','5','6','7','8','9',
    'aÌ³','bÌ³','cÌ³','dÌ³','eÌ³','fÌ³','gÌ³','hÌ³','iÌ³','jÌ³','kÌ³','lÌ³','mÌ³',
    'nÌ³','oÌ³','pÌ³','qÌ³','rÌ³','sÌ³','tÌ³','uÌ³','vÌ³','wÌ³','xÌ³','yÌ³','zÌ³',
    'AÌ³','BÌ³','CÌ³','DÌ³','EÌ³','FÌ³','GÌ³','HÌ³','IÌ³','JÌ³','KÌ³','LÌ³','MÌ³',
    'NÌ³','OÌ³','PÌ³','QÌ³','RÌ³','SÌ³','TÌ³','UÌ³','VÌ³','WÌ³','XÌ³','YÌ³','ZÌ³'];

function chatBoxInit(){
  console.log('Please update your code');
  new ChatBox('InputChat');}

new ChatBox('InputChat');
